-- LocalScript (Coloque em StarterPlayerScripts)
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local camera = workspace.CurrentCamera

-- =============================================
-- 1. AUTO-CRIAÇÃO DO SERVERSCRIPT
-- =============================================
local function createServerScript()
    if not ReplicatedStorage:FindFirstChild("KauaRemote") then
        local remote = Instance.new("RemoteEvent")
        remote.Name = "KauaRemote"
        remote.Parent = ReplicatedStorage
    end

    local serverScript = [[
        local Players = game:GetService("Players")
        local ReplicatedStorage = game:GetService("ReplicatedStorage")
        local remote = ReplicatedStorage:WaitForChild("KauaRemote")

        local function modifySounds()
            local sounds = {
                {Name = "Music", Id = "rbxassetid://103086632976213"},
                {Name = "MusicEnd", Id = "rbxassetid://88031675362294"},
                {Name = "MusicOutside", Id = "rbxassetid://88031675362294"},
                {Name = "MusicOutsideEnd", Id = "rbxassetid://88031675362294"}
            }

            for _, soundData in pairs(sounds) do
                local sound = game:GetService("ServerScriptService"):FindFirstChild("PlayerGui", true)
                              and game.ServerScriptService.PlayerGui:FindFirstChild("MainUI", true)
                              and game.ServerScriptService.PlayerGui.MainUI:FindFirstChild("Initiator", true)
                              and game.ServerScriptService.PlayerGui.MainUI.Initiator:FindFirstChild("Main_Lobby", true)
                              and game.ServerScriptService.PlayerGui.MainUI.Initiator.Main_Lobby:FindFirstChild(soundData.Name, true)
                
                if sound then
                    sound.SoundId = soundData.Id
                end
            end
        end

        remote.OnServerEvent:Connect(function(player, action)
            if action == "modifySounds" then
                modifySounds()
            end
        end)

        modifySounds()
    ]]

    ReplicatedStorage.KauaRemote:FireServer("createScript", serverScript)
end

-- =============================================
-- 2. CRIAÇÃO DA GUI
-- =============================================
local function createGUI()
    local PlayerGui = player:WaitForChild("PlayerGui")
    
    if PlayerGui:FindFirstChild("KauaDoorsGUI") then
        PlayerGui.KauaDoorsGUI:Destroy()
    end

    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "KauaDoorsGUI"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = PlayerGui

    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Size = UDim2.new(0, 320, 0, 470) -- ↑ aumentada para caber os novos botões/caixas
    MainFrame.Position = UDim2.new(0.5, -160, 0.5, -235)
    MainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    MainFrame.Active = true
    MainFrame.Draggable = true
    MainFrame.Visible = true
    MainFrame.Parent = ScreenGui

    local TitleBar = Instance.new("Frame")
    TitleBar.Name = "TitleBar"
    TitleBar.Size = UDim2.new(1, 0, 0, 30)
    TitleBar.Position = UDim2.new(0, 0, 0, 0)
    TitleBar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    TitleBar.Parent = MainFrame

    local Title = Instance.new("TextLabel")
    Title.Name = "Title"
    Title.Size = UDim2.new(0.6, 0, 1, 0)
    Title.Position = UDim2.new(0, 5, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = "TrollGui"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Font = Enum.Font.SourceSansBold
    Title.TextSize = 18
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.Parent = TitleBar

    local MinimizeKeyBox = Instance.new("TextBox")
    MinimizeKeyBox.Name = "MinimizeKeyBox"
    MinimizeKeyBox.Size = UDim2.new(0.3, 0, 0.8, 0)
    MinimizeKeyBox.Position = UDim2.new(0.65, 0, 0.1, 0)
    MinimizeKeyBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    MinimizeKeyBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    MinimizeKeyBox.PlaceholderText = "Tecla"
    MinimizeKeyBox.Text = "R"
    MinimizeKeyBox.ClearTextOnFocus = false
    MinimizeKeyBox.Parent = TitleBar

    local PlayerSearchBox = Instance.new("TextBox")
    PlayerSearchBox.Name = "PlayerSearchBox"
    PlayerSearchBox.Size = UDim2.new(0.7, 0, 0, 30)
    PlayerSearchBox.Position = UDim2.new(0.05, 0, 0, 40)
    PlayerSearchBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    PlayerSearchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    PlayerSearchBox.PlaceholderText = "Digite o nome do jogador..."
    PlayerSearchBox.ClearTextOnFocus = false
    PlayerSearchBox.Parent = MainFrame

    local TrackClosestButton = Instance.new("TextButton")
    TrackClosestButton.Name = "TrackClosest"
    TrackClosestButton.Size = UDim2.new(0.25, 0, 0, 30)
    TrackClosestButton.Position = UDim2.new(0.76, 0, 0, 40)
    TrackClosestButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    TrackClosestButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    TrackClosestButton.Text = "Rastrear a pessoa próxima"
    TrackClosestButton.Parent = MainFrame

    TrackClosestButton.MouseEnter:Connect(function() TrackClosestButton.BackgroundColor3 = Color3.fromRGB(70, 70, 70) end)
    TrackClosestButton.MouseLeave:Connect(function() TrackClosestButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50) end)

    TrackClosestButton.MouseButton1Click:Connect(function()
        local closest = nil
        local shortest = math.huge
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local root = player.Character.HumanoidRootPart.Position
            for _, p in pairs(Players:GetPlayers()) do
                if p ~= player and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
                    local dist = (root - p.Character.HumanoidRootPart.Position).Magnitude
                    if dist < shortest then
                        shortest = dist
                        closest = p
                    end
                end
            end
        end
        if closest then
            PlayerSearchBox.Text = closest.Name
        end
    end)

    local PlayerExamples = Instance.new("TextLabel")
    PlayerExamples.Name = "PlayerExamples"
    PlayerExamples.Size = UDim2.new(0.9, 0, 0, 20)
    PlayerExamples.Position = UDim2.new(0.05, 0, 0, 75)
    PlayerExamples.BackgroundTransparency = 1
    PlayerExamples.TextColor3 = Color3.fromRGB(180, 180, 180)
    PlayerExamples.Text = "Exemplos: "
    PlayerExamples.TextXAlignment = Enum.TextXAlignment.Left
    PlayerExamples.Font = Enum.Font.SourceSans
    PlayerExamples.TextSize = 14
    PlayerExamples.Parent = MainFrame

    -- =======================
    -- VARIÁVEIS E CONFIGS
    -- =======================
    local noclipEnabled = false
    local speedValue = 16
    local espEnabled = false
    local spectateEnabled = false
    local allEspEnabled = false
    local currentTarget = nil
    local loopTPEnabled = false
    local loopTPConnection = nil
    local highlights = {}
    local minimizeKey = "R"

    -- Distância de TP (studs) para TP normal/loop
    local tpDistanceStuds = 2

    -- Novos loops: estados/conexões
    local loopBFEnabled, loopBFConnection = false, nil   -- Behind & Front
    local loopFBEnabled, loopFBConnection = false, nil   -- Front & Behind

    -- Velocidade do loop em passos por segundo (maior = mais rápido)
    local loopStepsPerSecondDefault = 6

    -- =======================
    -- FUNÇÕES
    -- =======================
    local function createESP(targetPlayer)
        if not targetPlayer.Character then return end
        if highlights[targetPlayer] then return end
        local highlight = Instance.new("Highlight")
        highlight.Adornee = targetPlayer.Character
        highlight.FillColor = Color3.fromRGB(0,255,0)
        highlight.FillTransparency = 0.5
        highlight.OutlineTransparency = 0
        highlight.Parent = workspace
        highlights[targetPlayer] = highlight
    end

    local function removeESP(targetPlayer)
        if highlights[targetPlayer] then
            highlights[targetPlayer]:Destroy()
            highlights[targetPlayer] = nil
        end
    end

    local function clearAllESP()
        for p,h in pairs(highlights) do
            h:Destroy()
        end
        highlights = {}
    end

    local function updatePlayerExamples()
        local exampleText = "Exemplos: "
        local players = Players:GetPlayers()
        local count = 0
        for _, p in ipairs(players) do
            if p ~= player then
                count = count + 1
                exampleText = exampleText .. p.Name
                if count < 3 then
                    exampleText = exampleText .. ", "
                end
                if count >= 3 then break end
            end
        end
        PlayerExamples.Text = exampleText
    end

    -- Teleporte robusto (melhor contato em jogos de combate)
    local function tpToOffset(target, zOffset)
        if not (target and target.Character and player.Character) then return end
        local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
        local targetRoot = target.Character:FindFirstChild("HumanoidRootPart")
        if rootPart and targetRoot then
            -- segue o alvo e compensa movimento
            local vel = targetRoot.AssemblyLinearVelocity
            local bias = Vector3.new()
            if vel.Magnitude > 0.1 then
                bias = vel.Unit * 0.1 -- pequeno empurrão na direção que o alvo está se movendo
            end
            rootPart.CFrame = targetRoot.CFrame * CFrame.new(0,0,zOffset) + bias
            -- iguala velocidade para manter contato
            rootPart.AssemblyLinearVelocity = vel
        end
    end

    -- =======================
    -- BOTÕES E INTERAÇÕES
    -- =======================
    -- Noclip
    local NoclipButton = Instance.new("TextButton")
    NoclipButton.Size = UDim2.new(0.9, 0, 0, 25)
    NoclipButton.Position = UDim2.new(0.05, 0, 0, 100)
    NoclipButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    NoclipButton.TextColor3 = Color3.fromRGB(255,255,255)
    NoclipButton.Text = "Noclip: OFF"
    NoclipButton.Parent = MainFrame
    NoclipButton.MouseButton1Click:Connect(function()
        noclipEnabled = not noclipEnabled
        NoclipButton.Text = "Noclip: " .. (noclipEnabled and "ON" or "OFF")
    end)
    RunService.Stepped:Connect(function()
        if player.Character then
            for _, part in pairs(player.Character:GetChildren()) do
                if part:IsA("BasePart") then
                    part.CanCollide = not noclipEnabled
                end
            end
        end
    end)

    -- Speed
    local SpeedBox = Instance.new("TextBox")
    SpeedBox.Size = UDim2.new(0.6,0,0,25)
    SpeedBox.Position = UDim2.new(0.05,0,0,130)
    SpeedBox.BackgroundColor3 = Color3.fromRGB(60,60,60)
    SpeedBox.TextColor3 = Color3.fromRGB(255,255,255)
    SpeedBox.PlaceholderText = "Digite a velocidade"
    SpeedBox.ClearTextOnFocus = false
    SpeedBox.Parent = MainFrame

    local SpeedButton = Instance.new("TextButton")
    SpeedButton.Size = UDim2.new(0.3,0,0,25)
    SpeedButton.Position = UDim2.new(0.7,0,0,130)
    SpeedButton.BackgroundColor3 = Color3.fromRGB(50,50,50)
    SpeedButton.TextColor3 = Color3.fromRGB(255,255,255)
    SpeedButton.Text = "Set"
    SpeedButton.Parent = MainFrame
    SpeedButton.MouseButton1Click:Connect(function()
        local val = tonumber(SpeedBox.Text)
        if val then
            speedValue = val
            if player.Character and player.Character:FindFirstChild("Humanoid") then
                player.Character.Humanoid.WalkSpeed = speedValue
            end
        end
    end)

    -- Teleport Spawn (coords fixas)
    local TeleportSpawnButton = Instance.new("TextButton")
    TeleportSpawnButton.Size = UDim2.new(0.9,0,0,25)
    TeleportSpawnButton.Position = UDim2.new(0.05,0,0,160)
    TeleportSpawnButton.BackgroundColor3 = Color3.fromRGB(50,50,50)
    TeleportSpawnButton.TextColor3 = Color3.fromRGB(255,255,255)
    TeleportSpawnButton.Text = "Teleport to Spawn"
    TeleportSpawnButton.Parent = MainFrame
    TeleportSpawnButton.MouseButton1Click:Connect(function()
        if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = CFrame.new(195.37,61.25,-107.25)
        end
    end)

    -- ESP, Spectate, Loop TP padrão, TeleportToPlayer
    local buttons = {
        {Name="ToggleSpectate", Text="Spectate Player", YPos=190, Visible=false},
        {Name="ToggleESP", Text="ESP Player", YPos=220, Visible=false},
        {Name="ToggleAllESP", Text="ESP All Players", YPos=250, Visible=true},
        {Name="ToggleLoopTP", Text="Loop Teleport", YPos=280, Visible=false},
        {Name="TeleportToPlayer", Text="Teleport to Player", YPos=310, Visible=false}
    }

    for _, btnData in pairs(buttons) do
        local btn = Instance.new("TextButton")
        btn.Name = btnData.Name
        btn.Size = UDim2.new(0.9,0,0,25)
        btn.Position = UDim2.new(0.05,0,0,btnData.YPos)
        btn.BackgroundColor3 = Color3.fromRGB(50,50,50)
        btn.TextColor3 = Color3.fromRGB(255,255,255)
        btn.Text = btnData.Text
        btn.Visible = btnData.Visible
        btn.Parent = MainFrame

        btn.MouseButton1Click:Connect(function()
            if btnData.Name=="ToggleESP" then
                if not currentTarget then return end
                espEnabled = not espEnabled
                if espEnabled then createESP(currentTarget) btn.Text="ESP: ON"
                else removeESP(currentTarget) btn.Text="ESP Player" end

            elseif btnData.Name=="ToggleAllESP" then
                allEspEnabled = not allEspEnabled
                if allEspEnabled then
                    for _, p in pairs(Players:GetPlayers()) do
                        if p~=player then createESP(p) end
                    end
                    btn.Text="ESP All: ON"
                else
                    clearAllESP()
                    btn.Text="ESP All Players"
                end

            elseif btnData.Name=="ToggleSpectate" then
                if not currentTarget then return end
                spectateEnabled = not spectateEnabled
                if spectateEnabled and currentTarget.Character then
                    camera.CameraSubject=currentTarget.Character:FindFirstChild("Humanoid")
                    btn.Text="Spectate: ON"
                else
                    camera.CameraSubject=player.Character:FindFirstChild("Humanoid")
                    btn.Text="Spectate Player"
                end

            elseif btnData.Name=="TeleportToPlayer" then
                if currentTarget and currentTarget.Character and player.Character then
                    tpToOffset(currentTarget, tpDistanceStuds)
                end

            elseif btnData.Name=="ToggleLoopTP" then
                loopTPEnabled = not loopTPEnabled
                -- desligar loops especiais se o loop padrão ligar
                if loopTPEnabled then
                    if loopBFConnection then loopBFConnection:Disconnect() loopBFConnection=nil end
                    if loopFBConnection then loopFBConnection:Disconnect() loopFBConnection=nil end
                    loopBFEnabled=false; loopFBEnabled=false
                end

                if loopTPEnabled then
                    btn.Text="Stop Loop TP"
                    local acc = 0
                    local delayBetween = 1/(loopStepsPerSecondDefault)
                    loopTPConnection=RunService.Heartbeat:Connect(function(dt)
                        acc += dt
                        if acc >= delayBetween then
                            acc = 0
                            if currentTarget and currentTarget.Character and player.Character then
                                tpToOffset(currentTarget, tpDistanceStuds)
                            end
                        end
                    end)
                else
                    btn.Text="Loop Teleport"
                    if loopTPConnection then loopTPConnection:Disconnect() end
                end
            end
        end)
    end

    -- Distância TP (studs) - usada por TP normal, Loop padrão e pelos novos loops
    local TPDistanceBox = Instance.new("TextBox")
    TPDistanceBox.Name = "TPDistanceBox"
    TPDistanceBox.Size = UDim2.new(0.9, 0, 0, 25)
    TPDistanceBox.Position = UDim2.new(0.05, 0, 0, 340)
    TPDistanceBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    TPDistanceBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    TPDistanceBox.PlaceholderText = "Distância TP (studs) | padrão: 2"
    TPDistanceBox.Text = tostring(tpDistanceStuds)
    TPDistanceBox.ClearTextOnFocus = false
    TPDistanceBox.Parent = MainFrame

    TPDistanceBox.FocusLost:Connect(function(enterPressed)
        if enterPressed then
            local n = tonumber(TPDistanceBox.Text)
            if n and n >= -1000 and n <= 1000 then
                tpDistanceStuds = n
            else
                tpDistanceStuds = 2
                TPDistanceBox.Text = "2"
            end
        end
    end)

    -- NOVA TEXTBOX: Velocidade do Loop (passos por segundo)
    local LoopSpeedBox = Instance.new("TextBox")
    LoopSpeedBox.Name = "LoopSpeedBox"
    LoopSpeedBox.Size = UDim2.new(0.9, 0, 0, 25)
    LoopSpeedBox.Position = UDim2.new(0.05, 0, 0, 370)
    LoopSpeedBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    LoopSpeedBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    LoopSpeedBox.PlaceholderText = "Velocidade Loop (passos/seg) | padrão: 6"
    LoopSpeedBox.Text = tostring(loopStepsPerSecondDefault)
    LoopSpeedBox.ClearTextOnFocus = false
    LoopSpeedBox.Parent = MainFrame

    local function getLoopDelay()
        local v = tonumber(LoopSpeedBox.Text)
        if v and v > 0 then
            -- maior v = mais rápido (passos por segundo) -> delay = 1/v
            v = math.clamp(v, 0.1, 60)
            return 1 / v
        end
        return 1 / loopStepsPerSecondDefault
    end

    -- NOVO BOTÃO: Loop TP Behind & Front (0,1,2,3,4,5,4,3,2,1,0, ...)
    local LoopBFButton = Instance.new("TextButton")
    LoopBFButton.Name = "ToggleLoopBF"
    LoopBFButton.Size = UDim2.new(0.9, 0, 0, 25)
    LoopBFButton.Position = UDim2.new(0.05, 0, 0, 400)
    LoopBFButton.BackgroundColor3 = Color3.fromRGB(50,50,50)
    LoopBFButton.TextColor3 = Color3.fromRGB(255,255,255)
    LoopBFButton.Text = "Loop TP Behind and Front"
    LoopBFButton.Parent = MainFrame

    -- NOVO BOTÃO: Loop TP Front & Behind (0,-1,-2,-3,-4,-5,-4,-3,-2,-1,0, ...)
    local LoopFBButton = Instance.new("TextButton")
    LoopFBButton.Name = "ToggleLoopFB"
    LoopFBButton.Size = UDim2.new(0.9, 0, 0, 25)
    LoopFBButton.Position = UDim2.new(0.05, 0, 0, 430)
    LoopFBButton.BackgroundColor3 = Color3.fromRGB(50,50,50)
    LoopFBButton.TextColor3 = Color3.fromRGB(255,255,255)
    LoopFBButton.Text = "Loop TP Front and Behind"
    LoopFBButton.Parent = MainFrame

    local function buildPattern(maxAbs, sign)
        -- sign = 1 (behind & front usando +offset) | sign = -1 (front & behind usando -offset)
        maxAbs = math.max(0, math.floor(math.abs(maxAbs)))
        local t = {}
        for i = 0, maxAbs do table.insert(t, sign * i) end
        for i = maxAbs - 1, 1, -1 do table.insert(t, sign * i) end
        return t
    end

    local function stopSpecialLoops()
        if loopBFConnection then loopBFConnection:Disconnect() loopBFConnection=nil end
        if loopFBConnection then loopFBConnection:Disconnect() loopFBConnection=nil end
        loopBFEnabled=false; loopFBEnabled=false
    end

    LoopBFButton.MouseButton1Click:Connect(function()
        if not currentTarget then return end

        -- desligar loop padrão se existir e outros loops
        if loopTPConnection then loopTPConnection:Disconnect() loopTPConnection=nil end
        loopTPEnabled=false
        if loopFBConnection then loopFBConnection:Disconnect() loopFBConnection=nil end
        loopFBEnabled=false

        loopBFEnabled = not loopBFEnabled
        if loopBFEnabled then
            LoopBFButton.Text = "Stop Loop Behind & Front"
            local acc, idx = 0, 1
            local pattern = buildPattern(tpDistanceStuds, 1) -- 0..+max..0
            loopBFConnection = RunService.Heartbeat:Connect(function(dt)
                acc += dt
                if acc >= getLoopDelay() then
                    acc = 0
                    if not (currentTarget and currentTarget.Character and player.Character) then return end
                    local offset = pattern[idx] or 0
                    tpToOffset(currentTarget, offset)
                    idx = idx + 1
                    if idx > #pattern then idx = 1 end
                end
            end)
        else
            LoopBFButton.Text = "Loop TP Behind and Front"
            if loopBFConnection then loopBFConnection:Disconnect() loopBFConnection=nil end
        end
    end)

    LoopFBButton.MouseButton1Click:Connect(function()
        if not currentTarget then return end

        -- desligar loop padrão e o BF
        if loopTPConnection then loopTPConnection:Disconnect() loopTPConnection=nil end
        loopTPEnabled=false
        if loopBFConnection then loopBFConnection:Disconnect() loopBFConnection=nil end
        loopBFEnabled=false

        loopFBEnabled = not loopFBEnabled
        if loopFBEnabled then
            LoopFBButton.Text = "Stop Loop Front & Behind"
            local acc, idx = 0, 1
            local pattern = buildPattern(tpDistanceStuds, -1) -- 0..-max..0
            loopFBConnection = RunService.Heartbeat:Connect(function(dt)
                acc += dt
                if acc >= getLoopDelay() then
                    acc = 0
                    if not (currentTarget and currentTarget.Character and player.Character) then return end
                    local offset = pattern[idx] or 0
                    tpToOffset(currentTarget, offset)
                    idx = idx + 1
                    if idx > #pattern then idx = 1 end
                end
            end)
        else
            LoopFBButton.Text = "Loop TP Front and Behind"
            if loopFBConnection then loopFBConnection:Disconnect() loopFBConnection=nil end
        end
    end)

    -- Atualiza target ao digitar nome
    PlayerSearchBox:GetPropertyChangedSignal("Text"):Connect(function()
        currentTarget=nil
        local text=string.lower(PlayerSearchBox.Text)
        if text~="" then
            for _,p in pairs(Players:GetPlayers()) do
                if string.lower(p.Name):find(text)==1 or (p.DisplayName and string.lower(p.DisplayName):find(text)==1) then
                    currentTarget=p
                    break
                end
            end
        end
        for _, btnName in pairs({"ToggleSpectate","ToggleESP","ToggleLoopTP","TeleportToPlayer"}) do
            MainFrame[btnName].Visible=currentTarget~=nil
        end

        -- se o alvo mudou, pare os loops especiais para evitar bugs
        if currentTarget == nil then
            stopSpecialLoops()
            LoopBFButton.Text = "Loop TP Behind and Front"
            LoopFBButton.Text = "Loop TP Front and Behind"
        end
    end)

    -- Minimizar GUI
    MinimizeKeyBox:GetPropertyChangedSignal("Text"):Connect(function()
        if #MinimizeKeyBox.Text>0 then
            local key=string.sub(MinimizeKeyBox.Text,1,1):upper()
            minimizeKey=key
            MinimizeKeyBox.Text=key
        end
    end)

    UserInputService.InputBegan:Connect(function(input,gameProcessed)
        if not gameProcessed and input.KeyCode==Enum.KeyCode[minimizeKey] then
            MainFrame.Visible = not MainFrame.Visible
        end
    end)

    updatePlayerExamples()
    Players.PlayerAdded:Connect(updatePlayerExamples)
    Players.PlayerRemoving:Connect(updatePlayerExamples)
end

-- Inicia tudo
createServerScript()
createGUI()
